---
title: 금융 속보 크롤링
date: 2021-03-24 22:36:11
categories:
    - R을 이용한 퀀트투자
tags:
    - R을 이용한 퀀트투자
---

```r
# 금융 속보 크롤링

# 네이버 금융 -> 뉴스 -> 실시간 속보
# 금융 속보의 제목을 추출하는 과정


library(rvest)
library(httr)

# url 변수에 해당 주소 입력
url = paste0('https://finance.naver.com/news/news_list.nhn?mode=LSS2D&section_id=101&section_id2=258')

# GET 함수를 이용해 해당 페이지의 내용을 받아 data 변수에 저장
data = GET(url)             

# 데이터 변수 확인
# Status : 200,즉 데이터가 이상 없이 받아짐
# 인코딩은 EUC-KR 타입
print(data)

data_title = data %>%
  read_html(encoding = 'EUC-KR') %>%  # read_html 함수를 통해 해당 페이지의 HTML을 읽어오며, 인코딩은 EUC-KR 설정
  html_nodes('dl') %>%                # html_nodes 함수를 통해 해당 태그를 추출, dl 태그에 해당하는 부분 추출
  html_nodes('.articleSubject') %>%   # 함수를 이용해 articleSubject 클래스에 해당하는 부분 추출
  html_nodes('a') %>%                 # 함수를 이용해 a 태그 추출
  html_attr('title')                  # html_attr 함수는 속성을 추출하는 함수이며 title에 해당하는 부분만을 추출

print(data_title)

# 결과
# [1] "증선위, 회계 위반 디지털타임스에 과징금 1.4억원 부과"                         
# [2] ""                                                                             
# [3] "증선위, '공시의무 위반' 한국투자\u8b49 등 7개사 과징금 9억 부과"              
# [4] "[시그널] 국민연금 국내 주식확대 \"여론 압박에 수정···대형주만 유리해지나\""
# [5] "이스라엘 총선 혼전···최장수 총리 네타냐후 재집권 '불투명'"                 
# [6] "증선위, 바이오솔루션 등 7곳 '공시 위반' 과징금 9억여원 부과"                  
# [7] "금융위, 회계처리기준 위반 디지털타임스 검찰통보"                              
# [8] "\u4e2d, 신장 압박에 '미국 인권침해보고서' 맞불"                               
# [9] "미래에셋증권, 최현만·김재식 새 `투톱 체제`로 전환"                           
# [10] "증선위, 공시의무 위반 바이오솔루션·한투증권 등 7개사에 과징금 부과"          
# [11] "금융위, 공시규정 위반 바이오솔루션 등 7개사에 과징금 8억9870만원 부과"        
# [12] "증선위, 바이오솔루션 등 공시의무 위반 7개사에 과징금"                         
# [13] "미래에셋증권 '대우'떼고 새출발.. 최현만·김재식 투톱체제로"                   
# [14] "증선위, 회계기준 위반 디지털타임스에 과징금 1.4억 부과·검찰 통보"            
# [15] "증선위, '회계위반' 디지털타임스 검찰통보"                                     
# [16] "코로나 재확산에 미중 갈등까지...경제수장들의 '달래기'에도 지쳐가는 시장"      
# [17] "증선위, 공시위반 바이오솔루션·한투\u8b49에 각각 과징금 3.9억"                
# [18] "배우 이지아, '펜트하우스' 스탭 160여 명에게 셀티바 제품 8종 선물해"           
# [19] "'공시 위반' 한국투자증권 등 7개사 과징금 제재"                                
# [20] "[사모펀드 개편]PEF `10% 룰` 폐지…한국판 `엘리엇` 발판 마련" 

```