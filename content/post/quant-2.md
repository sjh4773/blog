---
title: getSymbols() 함수를 이용한 API 다운로드
date: 2021-03-23 21:23:01
categories:
    - R을 이용한 퀀트투자
tags:
    - R을 이용한 퀀트투자
---

```r
# getSymbols() 함수를 이용한 API 다운로드

library(quantmod)
getSymbols('TSLA')

head(TSLA)

# TSLA.Open TSLA.High TSLA.Low TSLA.Close TSLA.Volume TSLA.Adjusted
# 2010-06-29     3.800     5.000    3.508      4.778    93831500         4.778
# 2010-06-30     5.158     6.084    4.660      4.766    85935500         4.766
# 2010-07-01     5.000     5.184    4.054      4.392    41094000         4.392
# 2010-07-02     4.600     4.620    3.742      3.840    25699000         3.840
# 2010-07-06     4.000     4.000    3.166      3.222    34334500         3.222
# 2010-07-07     3.280     3.326    2.996      3.160    34608500         3.160

# Open : 시가, High: 고가, Low : 저가,
# Close : 종가, Volume : 거래량, Adjusted : 배당이 반영된 수정주가


# Ad() 함수를 통해 다운로드한 데이터에서 수정주가만을 선택한 후
# chart_Series() 함수를 이용해 시계열 그래프를 그릴 수도 있다.
chart_Series(Ad(TSLA))


# 시계열 기간을 입력하지 않으면 2007년 1월부터 현재까지의 데이터가
# 다운로드되며, 입력 변수를 추가해서 원하는 기간의 데이터를 다운로드 가능
# getSymbols() 함수를 통해 다운로드한 데이터는 자동으로 티커와 동일한 변수에 저장
# 만일 티커명이 아닌 원하는 변수명에 데이터를 저장하려면
# auto.assign 인자를 FALSE로 설정
data = getSymbols('TSLA',
                  from = '2000-01-01', to = '2021-03-22',
                  auto.assign = FALSE)
head(data)


# 한 번에 여러 종목의 주가 다운로드
ticker = c("COPX", "VALE")
getSymbols(ticker)

head(COPX)

# COPX.Open COPX.High COPX.Low COPX.Close COPX.Volume COPX.Adjusted
# 2010-04-20     44.70     44.70    43.95      44.04        1933      35.21548
# 2010-04-21     43.80     44.10    43.23      43.35        2900      34.66373
# 2010-04-22     43.17     43.17    42.51      43.11        3600      34.47183
# 2010-04-23     42.96     43.26    42.75      43.26        1100      34.59176
# 2010-04-26     44.88     44.88    43.20      43.92        3600      35.11952
# 2010-04-27     43.05     43.20    41.73      41.73        6733      33.36834

head(VALE)

# VALE.Open VALE.High VALE.Low VALE.Close VALE.Volume VALE.Adjusted
# 2007-01-03    15.070    15.610   14.305     14.410    19475000      8.316178
# 2007-01-04    14.320    14.320   14.015     14.235    20641000      8.215185
# 2007-01-05    14.235    14.240   13.555     13.755    20187600      7.938170
# 2007-01-08    13.845    14.285   13.795     14.235    21989000      8.215185
# 2007-01-09    14.205    14.205   13.530     13.820    21337600      7.975682
# 2007-01-10    13.625    14.355   13.565     14.190    18589000      8.189212

```